<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        <title>2Wheel Meetups - Event Details</title>
        {% load static %}
        <link rel="stylesheet" href="{% static 'MainApp/css/explore.css' %}">
        <link href="https://fonts.googleapis.com/css?family=Cedarville+Cursive|Josefin+Sans|Pacifico" rel="stylesheet">
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
        <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
        <script src="{% static 'MainApp/js/explore.js' %}"></script>
    </head>

    <body>

        <!-- THE BELOW CONTAINER HOLDS ALL THE LINK STYLES -->
        <div id="container">
            <div id="header">
                <h1><strong>2Wheel Meetups</strong></h1>

                <div id="links">
                    <ul>
                        <li><a href="/Home">Home</a></li>
                        <li>
                            <form id="ProfileForm" action="/Rider/{{UserLoggedIn.id}}" method="POST">
                                {% csrf_token %}
                                <input type="hidden" name="Rider" value="{{UserLoggedIn.id}}">
                                <a href="javascript:{}" onclick="document.getElementById('ProfileForm').submit();">Profile</a>
                            </form>
                        </li>
                        <li><a href="/CreateEvent">Create</a></li>
                        <li><a href="/Logout">Log Out</a></li>
                    </ul>
                </div>
            
                <div class="dropdown">

                    <button onclick="myFunction()" class="menuButton"><i class="fas fa-bars"></i> MENU</button>

                    <div id="tabletDropdown" class="dropdown-content">
                        <a href="/Home">Home</a>
                        <li>
                            <form id="ProfileForm" action="/Rider/{{UserLoggedIn.id}}" method="POST">
                                {% csrf_token %}
                                <input type="hidden" name="Rider" value="{{UserLoggedIn.id}}">
                                <a href="javascript:{}" onclick="document.getElementById('ProfileForm').submit();">Profile</a>
                            </form>
                        </li>
                        <a href="/CreateEvent">Create</a>
                        <a href="/Logout">Log Out</a>
                    </div>

                </div>
        
            </div>
            
            <div id="mobileLinks">

                <a href="/Home">
                    <i class="fas fa-home fa-2x"></i>
                    <p>Home</p>
                </a>
                <form id="ProfileForm" action="/Rider/{{UserLoggedIn.id}}" method="POST">
                    {% csrf_token %}
                    <input type="hidden" name="Rider" value="{{UserLoggedIn.id}}">
                    <a href="javascript:{}" onclick="document.getElementById('ProfileForm').submit();">
                        <i class="fas fa-user fa-2x"></i>
                        <p>Profile</p>
                    </a>
                </form>
                <a href="CreateEvent">
                    <i class="fas fa-motorcycle fa-2x"></i>
                    <p>Create</p>
                </a>
                <a href="/Logout">
                    <i class="fas fa-sign-out-alt fa-2x"></i>
                    <p>Log Out</p>
                </a>
                    
            </div>
        </div>  


        <h1 id="exploreHeader">Explore</h1>

        <form id='myForm' class="myForm" method='POST' action='/Explore/Api'>
            {% csrf_token %}  
            <h5>Enter:</h5>
            <input type='text' id='AjaxStartsWith' name='StartsWith' value="City, State, Zip Code" onfocus="if (this.value == 'City, State, Zip Code') this.value='';" size=25 />
        </form>

        <div id='list'></div>

        <script>
            // $('.myForm').submit(function(e){
            //     e.preventDefault()
            // })
            $('#AjaxStartsWith').keyup(function() {
                $.ajax({
                    url: "/Explore/Api",
                    method: "POST",
                    data: $(this).parent().serialize(), 
                        success: function(serverResponse) { 
                            $('#list').html(serverResponse)
                        }
                });
            });
        </script>

        <div id="footer">
            <p class="footer">2Wheel Meetups &reg; by Gustavo Arellano</p>
        </div> 
        
    </body>
</html>